<div class='col-md-12'>
  <div class='col-md-offset-3 col-md-6'>
    <h2 class='text-center'>Topics</h2>
  </div>
  <div class='col-md-3 text-right' ng-if="topics.list.length">
    <div class="btn btn-standart btn-green btn-large" ng-click="topics.openModal('new')">
      <span class='pull-left'>Create New Topic</span>
      <span class='fa fa-plus fa-2x pull-right'></span>
    </div>
  </div>
</div>

<div class='col-md-12 fixed-bottom-margin margin-top-3rem'>
  <div class='row text-center' ng-show="!topics.list.length">
    <div class='col-md-12'>
      <h4>You don't have any topics. Add one.</h4>
    </div>
    <div class='col-md-12 margin-top-2rem'>
      <div class='btn btn-standart btn-green btn-large' ng-click="topics.openModal('new')">
        <span class='pull-left'>Create New Topic</span>
        <span class='fa fa-plus fa-2x pull-right'></span>
      </div>
    </div>
  </div>

  <div id='row topics-list'>
    <div class='col-xs-12 col-md-4' ng-repeat='t in topics.list'>
      <div class='panel panel-default'>
        <div class='panel-heading' ng-click='topics.togglePanel(t)'>
          <h3 class='panel-title'>
            {{ t.name }}
            <span ng-click="$event.stopPropagation()">
              <img class='pull-right ic' ng-click='topics.deleteTopic(t.id)' src='/icons/dashboardElement_remove.png' title='Delete'>
              <img class='pull-right ic' ng-click="topics.openModal('edit', t)" src='/icons/dashboardElement_edit.png' title='Edit'>
            </span>
          </h3>
        </div>

        <div class='panel-body' ng-if='t._showPanel'>
          <div class='col-md-12' ng-if='!t.SessionTopics.length'>
            This topic does not belong to any session.
          </div>

          <div class='col-md-12' ng-if='t.SessionTopics.length'>
            <table class='table table-dashboardElements'>
              <thead>
                <tr class='background-green'>
                  <th>Name</th>
                  <th>Start Date</th>
                  <th>End Date</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat='sessionTopic in t.SessionTopics'>
                  <td>{{ sessionTopic.Session.name }}</td>
                  <td>{{ sessionTopic.Session.startTime | date:dateFormat }}</td>
                  <td>{{ sessionTopic.Session.endTime | date:dateFormat }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-include src="'/js/ngApp/components/dashboard-resources-topics/topicsModals.html'"></ng-include>
